<!doctype html>
<!-- The DOCTYPE declaration above will set the     -->
<!-- browser's rendering engine into                -->
<!-- "Standards Mode". Replacing this declaration   -->
<!-- with a "Quirks Mode" doctype is not supported. -->

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<!--                                                               -->
<!-- Consider inlining CSS to reduce the number of requested files -->
<!--                                                               -->
<!-- <link type="text/css" rel="stylesheet" href="Movie_mash_up.css"> -->
<link type="text/css" rel="stylesheet" href="style.css">
<link type="text/css" rel="stylesheet" href="opineo.css">


<!--                                           -->
<!-- Any title is fine                         -->
<!--                                           -->
<title>Web Application Starter Project</title>

<!-- <script type="text/javascript" language="javascript"
	src="movie_mash_up/jquery.js"></script>
<script type="text/javascript" language="javascript"
	src="movie_mash_up/jquery.carouFredSel-5.2.3-packed.js"></script>
 -->
<script type="text/javascript" language="javascript" src="js/jquery.js"></script>
<script type="text/javascript" language="javascript"
	src="js/jquery.carouFredSel-5.2.3-packed.js"></script>


<!-- <script type="text/javascript" src="js/colorpicker.js"></script>
<script type="text/javascript" src="js/ajaxfileupload.js"></script>
 -->
<script>
	// Run the code when the DOM is ready
	$(pieChart);

	function pieChart() {

		// Config settings
		var chartSizePercent = 50; // The chart radius relative to the canvas width/height (in percent)
		var sliceBorderWidth = 1; // Width (in pixels) of the border around each slice
		var sliceBorderStyle = "#fff"; // Colour of the border around each slice
		// var sliceGradientColour = "#ddd";                 // Colour to use for one end of the chart gradient

		var sliceGradientColour = "#fff"; // Colour to use for one end of the chart gradient
		var maxPullOutDistance = 25; // How far, in pixels, to pull slices out when clicked
		var pullOutFrameStep = 4; // How many pixels to move a slice with each animation frame
		var pullOutFrameInterval = 40; // How long (in ms) between each animation frame
		var pullOutLabelPadding = 50; // Padding between pulled-out slice and its label  
		var pullOutLabelFont = "bold 16px 'Trebuchet MS', Verdana, sans-serif"; // Pull-out slice label font
		var pullOutValueFont = "bold 12px 'Trebuchet MS', Verdana, sans-serif"; // Pull-out slice value font
		var pullOutValuePrefix = "#"; // Pull-out slice value prefix
		var pullOutShadowColour = "rgba( 0, 0, 0, .5 )"; // Colour to use for the pull-out slice shadow
		var pullOutShadowOffsetX = 5; // X-offset (in pixels) of the pull-out slice shadow
		var pullOutShadowOffsetY = 5; // Y-offset (in pixels) of the pull-out slice shadow
		var pullOutShadowBlur = 5; // How much to blur the pull-out slice shadow
		var pullOutBorderWidth = 2; // Width (in pixels) of the pull-out slice border
		var pullOutBorderStyle = "#333"; // Colour of the pull-out slice border
		var chartStartAngle = -.5 * Math.PI; // Start the chart at 12 o'clock instead of 3 o'clock

		// Declare some variables for the chart
		var canvas; // The canvas element in the page
		var currentPullOutSlice = -1; // The slice currently pulled out (-1 = no slice)
		var currentPullOutDistance = 0; // How many pixels the pulled-out slice is currently pulled out in the animation
		var animationId = 0; // Tracks the interval ID for the animation created by setInterval()
		var chartData = []; // Chart data (labels, values, and angles)
		var chartColours = []; // Chart colours (pulled from the HTML table)
		var totalValue = 0; // Total of all the values in the chart
		var canvasWidth; // Width of the canvas, in pixels
		var canvasHeight; // Height of the canvas, in pixels
		var centreX; // X-coordinate of centre of the canvas/chart
		var centreY; // Y-coordinate of centre of the canvas/chart
		var chartRadius; // Radius of the pie chart, in pixels

		// Set things up and draw the chart
		init();

		/**
		 * Set up the chart data and colours, as well as the chart and table click handlers,
		 * and draw the initial pie chart
		 */

		function init() {

			// Get the canvas element in the page
			canvas = document.getElementById('chart');

			// Exit if the browser isn't canvas-capable
			if (typeof canvas.getContext === 'undefined')
				return;

			// Initialise some properties of the canvas and chart
			canvasWidth = canvas.width;
			canvasHeight = canvas.height;
			// alert('canvasWidth : '+canvasWidth+'canvasHeight :'+canvasHeight);
			centreX = canvasWidth / 2;
			centreY = canvasHeight / 2;
			chartRadius = Math.min(canvasWidth, canvasHeight) / 2
					* (chartSizePercent / 100);

			// Grab the data from the table,
			// and assign click handlers to the table data cells

			var currentRow = -1;
			var currentCell = 0;

			$('#chartData td')
					.each(
							function() {
								currentCell++;
								if (currentCell % 2 != 0) {
									currentRow++;
									chartData[currentRow] = [];
									chartData[currentRow]['label'] = $(this)
											.text();
								} else {
									var value = parseFloat($(this).text());
									totalValue += value;
									value = value.toFixed(2);
									chartData[currentRow]['value'] = value;
								}

								// Store the slice index in this cell, and attach a click handler to it
								$(this).data('slice', currentRow);
								$(this).click(handleTableClick);

								// Extract and store the cell colour
								if (rgb = $(this).css('color').match(
										/rgb\((\d+), (\d+), (\d+)/)) {
									chartColours[currentRow] = [ rgb[1],
											rgb[2], rgb[3] ];
								} else if (hex = $(this)
										.css('color')
										.match(
												/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/)) {
									chartColours[currentRow] = [
											parseInt(hex[1], 16),
											parseInt(hex[2], 16),
											parseInt(hex[3], 16) ];
								} else {
									alert("Error: Colour could not be determined! Please specify table colours using the format '#xxxxxx'");
									return;
								}

							});

			// Now compute and store the start and end angles of each slice in the chart data

			var currentPos = 0; // The current position of the slice in the pie (from 0 to 1)

			for ( var slice in chartData) {
				chartData[slice]['startAngle'] = 2 * Math.PI * currentPos;
				chartData[slice]['endAngle'] = 2
						* Math.PI
						* (currentPos + (chartData[slice]['value'] / totalValue));
				currentPos += chartData[slice]['value'] / totalValue;
			}

			// All ready! Now draw the pie chart, and add the click handler to it
			drawChart();
			$('#chart').click(handleChartClick);
		}

		/**
		 * Process mouse clicks in the chart area.
		 *
		 * If a slice was clicked, toggle it in or out.
		 * If the user clicked outside the pie, push any slices back in.
		 *
		 * @param Event The click event
		 */

		function handleChartClick(clickEvent) {

			// Get the mouse cursor position at the time of the click, relative to the canvas
			var mouseX = clickEvent.pageX - this.offsetLeft;
			var mouseY = clickEvent.pageY - this.offsetTop;

			// Was the click inside the pie chart?
			var xFromCentre = mouseX - centreX - 736;
			var yFromCentre = mouseY - centreY - 166;
			// alert('xFromCentre : '+xFromCentre+' yFromCentre : '+yFromCentre);

			var distanceFromCentre = Math.sqrt(Math.pow(Math.abs(xFromCentre),
					2)
					+ Math.pow(Math.abs(yFromCentre), 2));

			//alert('chartRadius : '+chartRadius+' distanceFromCentre : '+distanceFromCentre);

			if (distanceFromCentre <= chartRadius) {

				// Yes, the click was inside the chart.
				// Find the slice that was clicked by comparing angles relative to the chart centre.

				var clickAngle = Math.atan2(yFromCentre, xFromCentre)
						- chartStartAngle;
				if (clickAngle < 0)
					clickAngle = 2 * Math.PI + clickAngle;

				for ( var slice in chartData) {
					if (clickAngle >= chartData[slice]['startAngle']
							&& clickAngle <= chartData[slice]['endAngle']) {

						// Slice found. Pull it out or push it in, as required.
						toggleSlice(slice);
						return;
					}
				}
			}

			// User must have clicked outside the pie. Push any pulled-out slice back in.
			pushIn();
		}

		/**
		 * Process mouse clicks in the table area.
		 *
		 * Retrieve the slice number from the jQuery data stored in the
		 * clicked table cell, then toggle the slice
		 *
		 * @param Event The click event
		 */

		function handleTableClick(clickEvent) {
			var slice = $(this).data('slice');
			toggleSlice(slice);
		}

		/**
		 * Push a slice in or out.
		 *
		 * If it's already pulled out, push it in. Otherwise, pull it out.
		 *
		 * @param Number The slice index (between 0 and the number of slices - 1)
		 */

		function toggleSlice(slice) {
			if (slice == currentPullOutSlice) {
				pushIn();
			} else {
				startPullOut(slice);
			}
		}

		/**
		 * Start pulling a slice out from the pie.
		 *
		 * @param Number The slice index (between 0 and the number of slices - 1)
		 */

		function startPullOut(slice) {

			// Exit if we're already pulling out this slice
			if (currentPullOutSlice == slice)
				return;

			// Record the slice that we're pulling out, clear any previous animation, then start the animation
			currentPullOutSlice = slice;
			currentPullOutDistance = 0;
			clearInterval(animationId);
			animationId = setInterval(function() {
				animatePullOut(slice);
			}, pullOutFrameInterval);

			// Highlight the corresponding row in the key table
			$('#chartData td').removeClass('highlight');
			var labelCell = $('#chartData td:eq(' + (slice * 2) + ')');
			var valueCell = $('#chartData td:eq(' + (slice * 2 + 1) + ')');
			labelCell.addClass('highlight');
			valueCell.addClass('highlight');
		}

		/**
		 * Draw a frame of the pull-out animation.
		 *
		 * @param Number The index of the slice being pulled out
		 */

		function animatePullOut(slice) {

			// Pull the slice out some more
			currentPullOutDistance += pullOutFrameStep;

			// If we've pulled it right out, stop animating
			if (currentPullOutDistance >= maxPullOutDistance) {
				clearInterval(animationId);
				return;
			}

			// Draw the frame
			drawChart();
		}

		/**
		 * Push any pulled-out slice back in.
		 *
		 * Resets the animation variables and redraws the chart.
		 * Also un-highlights all rows in the table.
		 */

		function pushIn() {
			currentPullOutSlice = -1;
			currentPullOutDistance = 0;
			clearInterval(animationId);
			drawChart();
			$('#chartData td').removeClass('highlight');
		}

		/**
		 * Draw the chart.
		 *
		 * Loop through each slice of the pie, and draw it.
		 */

		function drawChart() {

			// Get a drawing context
			var context = canvas.getContext('2d');

			// Clear the canvas, ready for the new frame
			context.clearRect(0, 0, canvasWidth, canvasHeight);

			// Draw each slice of the chart, skipping the pull-out slice (if any)
			for ( var slice in chartData) {
				if (slice != currentPullOutSlice)
					drawSlice(context, slice);
			}

			// If there's a pull-out slice in effect, draw it.
			// (We draw the pull-out slice last so its drop shadow doesn't get painted over.)
			if (currentPullOutSlice != -1)
				drawSlice(context, currentPullOutSlice);
		}

		/**
		 * Draw an individual slice in the chart.
		 *
		 * @param Context A canvas context to draw on  
		 * @param Number The index of the slice to draw
		 */

		function drawSlice(context, slice) {

			// Compute the adjusted start and end angles for the slice
			var startAngle = chartData[slice]['startAngle'] + chartStartAngle;
			var endAngle = chartData[slice]['endAngle'] + chartStartAngle;

			if (slice == currentPullOutSlice) {

				// We're pulling (or have pulled) this slice out.
				// Offset it from the pie centre, draw the text label,
				// and add a drop shadow.

				var midAngle = (startAngle + endAngle) / 2;
				var actualPullOutDistance = currentPullOutDistance
						* easeOut(currentPullOutDistance / maxPullOutDistance,
								.8);
				startX = centreX + Math.cos(midAngle) * actualPullOutDistance;
				startY = centreY + Math.sin(midAngle) * actualPullOutDistance;
				// context.fillStyle = 'rgb(' + chartColours[slice].join(',') + ')';
				/* context.fillStyle = 'rgb(0,0,0)';
				 context.textAlign = "center";
				 context.font = pullOutLabelFont;
				 context.fillText( chartData[slice]['label'], centreX + Math.cos(midAngle) * ( chartRadius + maxPullOutDistance + pullOutLabelPadding ), centreY + Math.sin(midAngle) * ( chartRadius + maxPullOutDistance + pullOutLabelPadding ) );
				 context.font = pullOutValueFont;
				 context.fillText( pullOutValuePrefix + chartData[slice]['value'] + " (" + ( parseInt( chartData[slice]['value'] / totalValue * 100 + .5 ) ) +  "%)", centreX + Math.cos(midAngle) * ( chartRadius + maxPullOutDistance + pullOutLabelPadding ), centreY + Math.sin(midAngle) * ( chartRadius + maxPullOutDistance + pullOutLabelPadding ) + 20 );*/
				context.shadowOffsetX = pullOutShadowOffsetX;
				context.shadowOffsetY = pullOutShadowOffsetY;
				context.shadowBlur = pullOutShadowBlur;

			} else {

				// This slice isn't pulled out, so draw it from the pie centre
				startX = centreX;
				startY = centreY;
			}

			// Set up the gradient fill for the slice
			var sliceGradient = context.createLinearGradient(0, 0,
					canvasWidth * .75, canvasHeight * .75);
			sliceGradient.addColorStop(0, sliceGradientColour);
			sliceGradient.addColorStop(1, 'rgb('
					+ chartColours[slice].join(',') + ')');

			// Draw the slice
			context.beginPath();
			context.moveTo(startX, startY);
			context.arc(startX, startY, chartRadius, startAngle, endAngle,
					false);
			context.lineTo(startX, startY);
			context.closePath();
			context.fillStyle = sliceGradient;
			context.shadowColor = (slice == currentPullOutSlice) ? pullOutShadowColour
					: "rgba( 0, 0, 0, 0 )";
			context.fill();
			context.shadowColor = "rgba( 0, 0, 0, 0 )";

			// Style the slice border appropriately
			if (slice == currentPullOutSlice) {
				context.lineWidth = pullOutBorderWidth;
				context.strokeStyle = pullOutBorderStyle;
			} else {
				context.lineWidth = sliceBorderWidth;
				context.strokeStyle = sliceBorderStyle;
			}

			// Draw the slice border
			context.stroke();

			context.fillStyle = 'rgb(0,0,0)';
			context.textAlign = "center";
			context.font = pullOutLabelFont;
			context
					.fillText(
							chartData[slice]['label'],
							centreX
									+ Math.cos(midAngle)
									* (chartRadius + maxPullOutDistance + pullOutLabelPadding),
							centreY
									+ Math.sin(midAngle)
									* (chartRadius + maxPullOutDistance + pullOutLabelPadding));
			context.font = pullOutValueFont;
			context
					.fillText(
							pullOutValuePrefix
									+ chartData[slice]['value']
									+ " ("
									+ (parseInt(chartData[slice]['value']
											/ totalValue * 100 + .5)) + "%)",
							centreX
									+ Math.cos(midAngle)
									* (chartRadius + maxPullOutDistance + pullOutLabelPadding),
							centreY
									+ Math.sin(midAngle)
									* (chartRadius + maxPullOutDistance + pullOutLabelPadding)
									+ 20);

		}

		/**
		 * Easing function.
		 *
		 * A bit hacky but it seems to work! (Note to self: Re-read my school maths books sometime)
		 *
		 * @param Number The ratio of the current distance travelled to the maximum distance
		 * @param Number The power (higher numbers = more gradual easing)
		 * @return Number The new ratio
		 */

		function easeOut(ratio, power) {
			return (Math.pow(1 - ratio, power) + 1);
		}

	};
</script>





<script>
	/* barchart */

	$(document).ready(function() {

		changeBarColor(1);
		changeBarColor(2);
		changeBarColor(3);
		changeBarColor(4);
		changeBarColor(5);
		animateDemo(1);
		draw_init();

	})

	function animateDemo(elem) {
		//alert('inside animateDemo ');
		var animSpeed;
		switch ($(elem).val()) {
		case '1':
			animSpeed = 4000;
			break;
		case '2':
			animSpeed = 3000;
			break;
		case '3':
			animSpeed = 1500;
			break;
		case '4':
			animSpeed = 1000;
			break;
		case '5':
			animSpeed = 500;
			break;
		default:
			animSpeed = 1500;
		}

		$('div.rating_bar')
				.each(
						function() {
							var barElem = this;
							//var percentage = $(barElem).find('p').text().split('%')[0];
							var percentage = $(barElem).text().split('%')[0];
							var barWidth = (($(barElem).parents('table:first')
									.width() * percentage) / 100);
							/* if(barWidth < 50){
								barWidth = barWidth+50;
							}
							 */
							if (percentage < 50) {
								barWidth = barWidth + 50;
							}
							$(barElem).css('width', '1px').show();
							$(barElem).animate({
								"width" : barWidth + 'px'
							}, animSpeed);
							/*for(var start = 1; start <= barWidth; start+=10){
								var widthIncrement = "" + start + "px";
								$(barElem).animate({"width": widthIncrement}, animSpeed);
							}*/
						})
	}

	function getColorsGradient(color1, color2) {
		return 'background: -moz-linear-gradient(100% 100% 90deg, '
				+ color1
				+ ', '
				+ color2
				+ '); background: -webkit-gradient(linear, 0% 0%, 0% 100%, from('
				+ color1 + '), to(' + color2 + '));';
	}

	function changeBarColor(elem) {
		//var tokens = $(elem).attr('id').split('_');
		//var barClass = tokens[0];
		//alert('inside changebar ');

		var barClass;
		var backgroundStyle;

		if (elem == 1) {
			barClass = 'red-bar';
			backgroundStyle = getColorsGradient('#cd310d', '#b32b0c');
		}
		if (elem == 2) {
			barClass = 'orange-bar';
			backgroundStyle = getColorsGradient('#ffcb00', '#ff9a00');
		}
		if (elem == 3) {
			barClass = 'yellow-bar';
			backgroundStyle = getColorsGradient('#fef13e', '#ece148');
		}
		if (elem == 4) {
			barClass = 'light-green-bar';
			backgroundStyle = getColorsGradient('#d1db32', '#b4c135');
		}
		if (elem == 5) {
			barClass = 'dark-green-bar';
			backgroundStyle = getColorsGradient('#7bd250', '#59b02e');
		}
		//var backgroundStyle = getColorsGradient('#' + $('#' + barClass + '_color1').val(), '#' + $('#' + barClass + '_color2').val());
		// var backgroundStyle = getColorsGradient('#cd310d', '#b32b0c');
		var oldBarStyleAttribute = $('div.' + barClass).attr('style');
		$('div.' + barClass).attr('style',
				oldBarStyleAttribute + '' + backgroundStyle);

	}
</script>

<script>
	$(function() {
		//Scrolled by user interaction
		/* $("#foo2").carouFredSel({
			
			circular: false,
			infinite: false,
			auto : false,
			
			
			prev : {	
				button	: "#foo2_prev"
				key		: "left"
			},
			next : { 
				button	: "#foo2_next"
				key		: "right" 
			},
			pagination	: "#foo2_pag"
			
		}); */

		/* $("#foo2").carouFredSel({
			items : 11,
			auto : false,
			prev : "#foo2_prev",
			next : "#foo2_next",
			scroll : {
				items : 1,
				duration : 1500
			}
		}); */

		/* 		$("#foo1").carouFredSel({
		 items : {
		 visible			: 3,
		 },
		 scroll : {
		 items			: 1,
		 duration		: 1000,
		 pauseDuration	: 2000,
		 onBefore		: function(oldItems, newItems, newSizes, duration) {
		 $("#foo1").parent().parent().animate({ paddingLeft: (950 - newSizes.width) / 2 }, duration);
		 }
		 },
		 auto	: false,
		 prev	: "#foo1_prev",
		 next	: "#foo1_next"
		 }).parent().parent().css({ 
		 paddingLeft: (950 - $("#foo1").parent().outerWidth()) / 2 
		 });
		 */

		function highlight(items) {
			// alert("current visible 5 src : "+items[5].src);
			// alert("current visible 5 name : "+items[5].name);
			var mName = document.getElementById('movie_name');
			var str = mName.innerHTML.replace("&amp;", "&");
			// alert('mName : '+str+' compare to : '+items[5].title);
			//alert("current visible 0: "+items[0].value());
			if (str == items[5].title) {
				$("#foo1").trigger("pause");
				items.filter(":eq(5)").css({

					backgroundColor : "#000",
					width : 80,
					height : 120,
					padding : 2,
				//box-shadow: "0 0 1em rgba(0, 0, 0, 0.5)"

				});
			}

		}
		function unhighlight(items) {
			items.css({
				backgroundColor : "#FFF",
				width : 80,
				height : 120,
				margin : 2,
				padding : 0
			});
		}

		$("#foo1").carouFredSel({
			auto : {
				items : 1,
				duration : 100,
				easing : "linear",
				pauseDuration : 0,
				onBefore : function(oldItems, newItems) {
					unhighlight(oldItems);
				},
				onAfter : function(oldItems, newItems) {
					highlight(newItems);
				}
			}
		}).trigger("pause");
		
			
		
		$("#foo1_prev").hover(function() {
			$("#foo1").trigger("configuration", [ "direction", "left" ]);
			$("#foo1").trigger("play");
		}, function() {
			$("#foo1").trigger("pause");
		}).click(function() {
			return false;
		});

		$("#foo1_next").hover(function() {
			$("#foo1").trigger("configuration", [ "direction", "right" ]);
			$("#foo1").trigger("play");
		}, function() {
			$("#foo1").trigger("pause");
		}).click(function() {
			return false;
		});

	});
</script>



<script src='style/prettify.js'></script>
<link href="style/distant-planet.css" rel="stylesheet" type="text/css" />
<link href="style/box2d.css" rel="stylesheet" type="text/css" />


<link href="style/prettify.css" rel="stylesheet" type="text/css" />
<script>
	Event.observe(window, 'load', function() {
		prettyPrint()
	});
</script>



<!--                                           -->
<!-- This script loads your compiled module.   -->
<!-- If you add any GWT meta tags, they must   -->
<!-- be added before this line.                -->
<!--                                           -->
<script type="text/javascript" language="javascript"
	src="movie_mash_up/movie_mash_up.nocache.js"></script>


</head>

<!--                                           -->
<!-- The body can have arbitrary html, or      -->
<!-- you can leave the body empty if you want  -->
<!-- to create a completely dynamic UI.        -->
<!--                                           -->
<body>

	<div id="navigation">
		<div class="left"></div>
		<ul>
			<li onClick="showCanvas()"><a href="#">Movie Ratings</a></li>

			<li onClick="showBubble()"><a href="#">Movie Review</a></li>
			<!-- <li><a href="#">Movie Review &amp; Ratings</a>
			</li> -->
			<li><a href="#">Screencast</a></li>

			<li onClick="showAboutPage()"><a href="#">About</a></li>
			<!-- <li><a href="#">Help</a>
			</li> -->
			<li><a href="#">Course Web Page</a></li>
			<li class="last"><a href="#">Team</a>
			<li id="textBox"></li>
			<li id="addButton" onClick="showCanvas();"></li>

		</ul>
		<div class="right">
			<!-- <div id="textBox"></div>
			<div id="addButton"></div> -->
		</div>
	</div>
	<div class="wrapper">
		<div class="image_carousel">
			<div id="foo1">
				<img src="images/flower.png" name="flower1" /> <img
					src="images/flower.png" name="flower2" /> <img
					src="images/flower.png" name="flower3" /> <img src="images/m.png"
					name="m" onclick="reset(); " /> <img src="images/o.png" name="o" />
				<img src="images/v.png" name="v" /> <img src="images/i.png"
					name="i" /> <img src="images/z.png" name="z" /> <img
					src="images/flower.png" name="flower4" /> <img
					src="images/flower.png" name="flower5" /> <img
					src="images/flower.png" name="flower6" /> <img
					src="images/flower.png" name="flower7" />
				<!-- <img
					src="http://content8.flixster.com/movie/16/90/53/1690530_pro.jpg"
					alt="basketball" /> <img
					src="http://content8.flixster.com/movie/16/90/53/1690530_pro.jpg"
					alt="basketball" /><img
					src="http://content8.flixster.com/movie/16/90/53/1690530_pro.jpg"
					alt="basketball" /> <img
					src="http://content8.flixster.com/movie/16/90/53/1690530_pro.jpg"
					alt="basketball" /> <img
					src="http://content8.flixster.com/movie/16/90/53/1690530_pro.jpg"
					alt="basketball" /> -->
				<!-- <img
					src="#" 
					 /> 
					 <img
					src="#" alt="cupcackes"
					 /> <img
					src="#" alt="hangmat" 
					 /> <img src="/examples/images/small/new_york.jpg"
					alt="new york"  /> <img
					src="#" alt="laundry" 
					 /> <img src="/examples/images/small/mom_son.jpg"
					alt="mom son"  /> <img
					src="#" alt="picknick"
					 /> 
					 <img
					src="#" alt="shoes" 
					 /> -->
				<!--  <img src="/examples/images/small/paris.jpg"
					alt="paris"  />
					 <img
					src="#" alt="sunbading"
					  /> 
					  <img
					src="#" alt="yellow couple"
					  /> -->
			</div>
			<div class="clearfix"></div>
			<a class="prev" id="foo1_prev" href="#"><span>prev</span> </a> <a
				class="next" id="foo1_next" href="#"><span>next</span> </a> <a
				class="rotten" href="#"></a>
		</div>
		<div id="arrow" class="arrow">
			<!-- <a class="fresh" href="#">
        </a>
         -->
		</div>

	</div>



	<div class="divCanvas" id="divCanvas">
		<div id="source">
			<div id="imdb"></div>
			<div id="rt"></div>
			<div id="amazon"></div>

			<!-- <div id="ratings"> </div> -->

			<div id="movie_name">Harry Potter</div>
			<div id="overallRating"></div>
		</div>
		<div id="imdb_star">3.2</div>
		<div id="rt_star">4.7</div>
		<div id="amazon_star">4</div>

		<canvas id="canvas" width="500" height="590"></canvas>
		<!--    <div id="ratingSpace">
    
    </div> -->
		<div id="ratingSpace">

			<div id="loading">
				<span id="loadingMsg">Loading ...</span>
			</div>

			<div id="arrow5"></div>
			<div id="rating5"></div>
			<div id="arrow4"></div>
			<div id="rating4"></div>
			<div id="arrow3"></div>
			<div id="rating3"></div>
			<div id="arrow2"></div>
			<div id="rating2"></div>
			<div id="arrow1"></div>
			<div id="rating1"></div>



		</div>
		<div id="chartArea">

			<canvas id="chart" width="419" height="320"></canvas>
			<table id="chartData">

				<tr style="color: #000">
					<th>Movie Source</th>
					<th># of people rated</th>
				</tr>

				<tr style="color: #F9D52D">

					<td>IMDB</td>
					<td id="imdb_total">1</td>
				</tr>

				<tr style="color: #FF3300">
					<td>Rotten Tomatoes</td>
					<td id="rt_total">1</td>
				</tr>

				<tr style="color: #057249">

					<td>Amazon</td>
					<td id="amazon_total">1</td>
				</tr>


				<!-- <tr>
      <th>Widget</th><th>Sales ($)</th>
     </tr>

    <tr style="color: #0DA068">

      <td>SuperWidget</td><td>1862.12</td>
    </tr>

    <tr style="color: #194E9C">
      <td>MegaWidget</td><td>1316.00</td>
    </tr>

    <tr style="color: #ED9C13">

      <td>HyperWidget</td><td>712.49</td>
    </tr>

    <tr style="color: #ED5713">
      <td>WonderWidget</td><td>3236.27</td>
    </tr>

    <tr style="color: #057249">

      <td>MicroWidget</td><td>6122.06</td>
    </tr>

    <tr style="color: #5F91DC">
      <td>NanoWidget</td><td>128.11</td>
    </tr>

    <tr style="color: #F88E5D">

      <td>LovelyWidget</td><td>245.55</td>
    </tr>
    -->
			</table>

			<div id="bubble_data">

				<div id="imdb_5">55</div>
				<div id="imdb_5_h">100</div>

				<div id="imdb_4">25</div>
				<div id="imdb_4_h">80</div>

				<div id="imdb_3">8</div>
				<div id="imdb_3_h">60</div>

				<div id="imdb_2">7</div>
				<div id="imdb_2_h">40</div>

				<div id="imdb_1">5</div>
				<div id="imdb_1_h">20</div>


				<div id="rt_5">75</div>
				<div id="rt_5_h">100</div>

				<div id="rt_4">15</div>
				<div id="rt_4_h">80</div>

				<div id="rt_3">4</div>
				<div id="rt_3_h">60</div>

				<div id="rt_2">1</div>
				<div id="rt_2_h">40</div>

				<div id="rt_1">0</div>
				<div id="rt_1_h">10</div>



				<div id="amazon_5">20</div>
				<div id="amazon_5_h">80</div>

				<div id="amazon_4">60</div>
				<div id="amazon_4_h">100</div>

				<div id="amazon_3">10</div>
				<div id="amazon_3_h">60</div>

				<div id="amazon_2">5</div>
				<div id="amazon_2_h">40</div>

				<div id="amazon_1">5</div>
				<div id="amazon_1_h">40</div>


			</div>


			<div id="widget-preview">

				<table width="100%">
					<tr>
						<td valign="top">
							<!-- <div class="all-stars clearfix">
									<div class="star"><img class="filled_star star_1" title="Hate it" src="images/img-full-star.png" alt="" /></div>
									<div class="star"><img class="filled_star star_2" title="Don't like it" src="images/img-full-star.png" alt="" /></div>
									<div class="star"><img class="filled_star star_3" title="It's okay" src="images/img-full-star.png" alt="" /></div>
									<div class="star"><img class="unfilled_star star_4" title="Like it" src="images/img-full-star-grey.png" alt="" /></div>
									<div class="star"><img class="unfilled_star star_5" title="Love it" src="images/img-full-star-grey.png" alt="" /></div>
								  </div> -->
							<div id="star_big">3.5</div>
							<div class="clearfix StarRating"></div>
							<div id="BarsContainer">
								<div class="dark-green-bar rating_bar star_5" id="star_5"
									title="5 Star Rating" style="width: 86%; clear: left;">86%</div>

								<div class="bar-label clearfix" id="star_5_votes">1956 Votes</div>
								<div class="light-green-bar rating_bar star_4" id="star_4"
									title="4 Star Rating" style="width: 76%; clear: left;">76%</div>
								<div class="bar-label clearfix" id="star_4_votes">1345 Votes</div>

								<div class="yellow-bar rating_bar star_3" id="star_3"
									title="3 Star Rating" style="width: 65%; clear: left;">65%</div>
								<div class="bar-label clearfix" id="star_3_votes">935 Votes</div>

								<div class="orange-bar rating_bar star_2" id="star_2"
									title="2 Star Rating " style="width: 28%; clear: left;">
									37%</div>

								<div class="bar-label clearfix" id="star_2_votes">420 Votes</div>

								<div class="red-bar rating_bar star_1" id="star_1"
									title="1 Star Rating" style="width: 14%; clear: left;">14%</div>
								<div class="bar-label clearfix" id="star_1_votes">214 Votes</div>

							</div>

							<div id="OverAllBarContainer" style="display: none;">
								<div class="light-green-bar rating_bar" title="Over All Rating"
									style="width: 86%; clear: left;">86%</div>
							</div>
							<div class="clearfix StarRating"></div>
							
						</td>
					</tr>

				</table>
				<div id="MiniInfoContainer" style="font-size: 18px;">
								<span style="font-weight: normal">Total Votes: </span> <strong id="total_votes">4870</strong>
								&nbsp;<span style="font-weight: normal">, Overall Rating: </span>
								<strong id="overall_rating">3.5 / 5</strong>
							</div>
			</div>

		</div>



	</div>

	<script type="text/javascript">
		var canvas, graphics, text;
		function draw_init_and_slide() {
			
			draw_init();
			animateDemo(1);
			pieChart() ;
			var deviation = 15;

			$("#foo1").trigger("configuration", [ "direction", "left" ]);
			$("#foo1").trigger("play");
			//$("#foo1").trigger("slideTo", [$(this), deviation]);
		}
		function draw_init() {
			countC = -1;
			canvas = document.getElementById('canvas');
			if (canvas.getContext) {
				graphics = canvas.getContext('2d');
			}
			draw(0, 0, -1);
		}
		function draw(xPos, yPos, countC) {

			if (countC == -1) {

				t = setTimeout('draw(0,0,0);', 100);
			} else {
				//var x = Math.random() * 300;
				//var y = Math.random() * 150;
				var x = (xPos + 1) * 400 / 3;
				var y = (yPos + 1) * 450 / 5;

				yPos = yPos + 1;
				countC = countC + 1;
				var size;
				var percentage;
				var hue;
				switch (countC) {
				case 1:
					percentage = $('#imdb_5').text();
					hue = $('#imdb_5_h').text();
					break;
				case 2:
					percentage = $('#imdb_4').text();
					hue = $('#imdb_4_h').text();
					break;
				case 3:
					percentage = $('#imdb_3').text();
					hue = $('#imdb_3_h').text();
					break;
				case 4:
					percentage = $('#imdb_2').text();
					hue = $('#imdb_2_h').text();
					break;
				case 5:
					percentage = $('#imdb_1').text();
					hue = $('#imdb_1_h').text();
					break;
				case 6:
					percentage = $('#rt_5').text();
					hue = $('#rt_5_h').text();
					break;

				case 7:
					percentage = $('#rt_4').text();
					hue = $('#rt_4_h').text();
					break;
				case 8:
					percentage = $('#rt_3').text();
					hue = $('#rt_3_h').text();
					break;
				case 9:
					percentage = $('#rt_2').text();
					hue = $('#rt_2_h').text();
					break;
				case 10:
					percentage = $('#rt_1').text();
					hue = $('#rt_1_h').text();
					break;

				case 11:
					percentage = $('#amazon_5').text();
					hue = $('#amazon_5_h').text();
					break;
				case 12:
					percentage = $('#amazon_4').text();
					hue = $('#amazon_4_h').text();
					break;
				case 13:
					percentage = $('#amazon_3').text();
					hue = $('#amazon_3_h').text();
					break;
				case 14:
					percentage = $('#amazon_2').text();
					hue = $('#amazon_2_h').text();
					break;
				case 15:
					percentage = $('#amazon_1').text();
					hue = $('#amazon_1_h').text();
					break;

				default:
					percentage = (Math.random() * 70) + 30;
					hue = percentage;
					break;

				}

				size = (percentage / 100 * 100) + 42;
				var num_circles = 1

				if (countC == 1) {

					var xPos1 = 0;
					var yPos1 = 0;
					for ( var j = 0; j < 3; j++) {
						xPos1 = xPos1 + 1;
						yPos1 = 0;
						for ( var k = 0; k < 5; k++) {
							yPos1 = yPos1 + 1;

							var x1 = (xPos1) * 400 / 3;
							var y1 = (yPos1) * 450 / 5;

							for ( var i = 140; i > 0; i -= (size / num_circles)) {

								graphics.fillStyle = 'rgba(255,255,255,1)';
								graphics.beginPath();
								graphics.arc(x1, y1, i * .5, 0, Math.PI * 2,
										true);
								graphics.closePath();

								graphics.shadowOffsetX = 10;
								graphics.shadowOffsetY = 10;
								graphics.shadowBlur = 5;
								graphics.shadowColor = 'rgba(255, 255, 255, 0.5)';
								graphics.fillText(parseInt(percentage) + '%',
										x1, y1);
								graphics.fill();
							}
						}
					}
				}

				for ( var i = size; i > 0; i -= (size / num_circles)) {

					//	graphics.fillStyle = 'rgba(255,255,255,1)'; 
					//    graphics.beginPath();
					//	graphics.arc(x, y, i * .5, 0, Math.PI*2, true); 
					// 	graphics.closePath();
					//	graphics.fill();
					//graphics.lineWidth = 3;
					//graphics.strokeStyle = "white";
					//graphics.stroke();
					if (countC <= 5) {

						//graphics.fillStyle = 'rgba(255,221,0,'+((6-yPos)/10*2)+')';  
						// graphics.fillStyle = 'rgba(249,213,45,'+((6-yPos)/10*2)+')'; 
						graphics.fillStyle = 'rgba(249,213,45,' + hue / 100
								+ ')';
						graphics.shadowColor = 'rgba(255,255,0,' + hue / 100
								+ ')';

					} else if (countC <= 10) {
						// graphics.fillStyle = 'rgba(255,51,0,'+((6-yPos)/10*2)+')';     
						graphics.fillStyle = 'rgba(255,51,0,' + hue / 100 + ')';
						graphics.shadowColor = 'rgba(255,0,0,' + hue / 100
								+ ')';
					} else if (countC <= 15) {
						//graphics.fillStyle = 'rgba(102,204,0,'+((6-yPos)/10*2)+')'; 
						// graphics.fillStyle = 'rgba(25,78,156,'+((6-yPos)/10*2)+')'; 
						// graphics.fillStyle = 'rgba(5,114,73,'+((6-yPos)/10*2)+')'; 
						graphics.fillStyle = 'rgba(5,114,73,' + hue / 100 + ')';
						graphics.shadowColor = 'rgba(0,155,0,' + hue / 100
								+ ')';

					}

					if (hue == 100) {

						graphics.shadowOffsetX = 3;
						graphics.shadowOffsetY = 3;
						graphics.shadowBlur = 5;
						graphics.shadowColor = 'rgba(0, 0, 0, 0.5)';

					} else {
						graphics.shadowOffsetX = 1;
						graphics.shadowOffsetY = 1;
						graphics.shadowBlur = 3;

					}
					graphics.beginPath();
					graphics.arc(x, y, i * .5, 0, Math.PI * 2, true);
					graphics.closePath();
					graphics.fill();

				}

				graphics.fillStyle = "rgba(0, 0, 0, .8)";
				graphics.shadowOffsetX = 0;
				graphics.shadowOffsetY = 0;
				graphics.shadowBlur = 0;
				graphics.font = 'italic 16px sans-serif';
				graphics.textBaseline = 'middle';
				graphics.textAlign = "center";

				graphics.fillText(parseInt(percentage) + '%', x, y);
				if (countC % 5 == 0) {
					xPos = xPos + 1;
					yPos = 0;
				}

				if (countC < 15) {
					t = setTimeout('draw(' + xPos + ',' + yPos + ',' + countC
							+ ');', 10);
				} else {
					//draw_init();
				}

			}

		}
	</script>




    <div id="about_page" style="visibility: hidden">
     		    The idea of the project came up during an actual conversation about how each of us referred to different sites to view movie ratings. Each of us had different reasons for preferring a particular source. I always referred to Netflix for familiarity’s sake. Anil seemed to prefer IMDB because of the vast user reviews. And I think Sreeja and Deepa liked rotten tomatoes because of their extensive critic reviews.

                After going through several UI design, we came with the most legible and simple way to depict eclectic ratings. We called it "MoViz" because somehow the name seemed to fit and gave the user a hint about what the visualization was all about.

                Here is a brief introduction about what we tried to do and what came out as a result: MoViz is a novel visualization that provides a single platform for all your movie rating and review needs. MoViz brings together rating and reviews from Rotten tomatoes, Amazon and IMDB to depict differences and similarities in ratings to help you decide better. If also shows you the number of users who trust a certain source.

                You can watch a brief screen cast demo of the project by clicking on the "Screen cast" tab. Please see the Team page to get in touch with any one of us. 	
    </div>


	<div id="canvasDiv" style="visibility: hidden">


		<div id="legend" style="font:14px">
		Legend : <img src="images/amazon_good.png"> : Amazon Positive 
		<img src="images/imdb_good.png"> : IMDB Positive
		<img src="images/rt_good.png"> : Rotten Tomatoes Positive
		<img src="images/amazon_bad.png"> : Amazon Negative
		<img src="images/imdb_bad.png"> : IMDB Negative
		<img src="images/rt_bad.png"> : Rotten Tomatoes Negative
		
		</div>
		
		<div id="imdb_words" style="color: #fff">
			<table>
				<tr>
					<td id="imdb_p_word_1">Awsome</td>
					<td id="imdb_p_word_1_f">20</td>
					<td id="imdb_p_word_1_h">100</td>

					<td id="imdb_p_word_2">Fantastic</td>
					<td id="imdb_p_word_2_f">20</td>
					<td id="imdb_p_word_2_h">100</td>

					<td id="imdb_p_word_3">Great</td>
					<td id="imdb_p_word_3_f">30</td>
					<td id="imdb_p_word_3_h">100</td>

					<td id="imdb_p_word_4">Extraordinary</td>
					<td id="imdb_p_word_4_f">20</td>
					<td id="imdb_p_word_4_h">100</td>

					<td id="imdb_p_word_5">Entertaining</td>
					<td id="imdb_p_word_5_f">10</td>
					<td id="imdb_p_word_5_h">50</td>

					<td id="imdb_n_word_1">Bad</td>
					<td id="imdb_n_word_1_f">10</td>
					<td id="imdb_n_word_1_h">100</td>

					<td id="imdb_n_word_2">Bad</td>
					<td id="imdb_n_word_2_f">20</td>
					<td id="imdb_n_word_2_h">100</td>

					<td id="imdb_n_word_3">Bad</td>
					<td id="imdb_n_word_3_f">30</td>
					<td id="imdb_n_word_3_h">100</td>

					<td id="imdb_n_word_4">Bad</td>
					<td id="imdb_n_word_4_f">20</td>
					<td id="imdb_n_word_4_h">100</td>

					<td id="imdb_n_word_5">Bad</td>
					<td id="imdb_n_word_5_f">10</td>
					<td id="imdb_n_word_5_h">50</td>

				</tr>
			</table>



		</div>

		<div id="rt_words" style="color: #fff">
			<table>
				<tr>
					<td id="rt_p_word_1">Awsome</td>
					<td id="rt_p_word_1_f">30</td>
					<td id="rt_p_word_1_h">100</td>

					<td id="rt_p_word_2">Fantastic</td>
					<td id="rt_p_word_2_f">20</td>
					<td id="rt_p_word_2_h">100</td>

					<td id="rt_p_word_3">Great</td>
					<td id="rt_p_word_3_f">30</td>
					<td id="rt_p_word_3_h">100</td>

					<td id="rt_p_word_4">Extraordinary</td>
					<td id="rt_p_word_4_f">20</td>
					<td id="rt_p_word_4_h">100</td>

					<td id="rt_p_word_5">Entertaining</td>
					<td id="rt_p_word_5_f">10</td>
					<td id="rt_p_word_5_h">50</td>

					<td id="rt_n_word_1">Bad</td>
					<td id="rt_n_word_1_f">25</td>
					<td id="rt_n_word_1_h">100</td>

					<td id="rt_n_word_2">Bad</td>
					<td id="rt_n_word_2_f">30</td>
					<td id="rt_n_word_2_h">100</td>

					<td id="rt_n_word_3">Bad</td>
					<td id="rt_n_word_3_f">30</td>
					<td id="rt_n_word_3_h">100</td>

					<td id="rt_n_word_4">Bad</td>
					<td id="rt_n_word_4_f">20</td>
					<td id="rt_n_word_4_h">100</td>

					<td id="rt_n_word_5">Bad</td>
					<td id="rt_n_word_5_f">10</td>
					<td id="rt_n_word_5_h">50</td>

				</tr>
			</table>

		</div>

		<div id="amazon_words" style="color: #fff">
			<table>
				<tr>

					<td id="amazon_p_word_1">Awsome</td>
					<td id="amazon_p_word_1_f">20</td>
					<td id="amazon_p_word_1_h">100</td>

					<td id="amazon_p_word_2">Fantastic</td>
					<td id="amazon_p_word_2_f">30</td>
					<td id="amazon_p_word_2_h">100</td>

					<td id="amazon_p_word_3">Great</td>
					<td id="amazon_p_word_3_f">30</td>
					<td id="amazon_p_word_3_h">100</td>

					<td id="amazon_p_word_4">Extraordinary</td>
					<td id="amazon_p_word_4_f">20</td>
					<td id="amazon_p_word_4_h">100</td>

					<td id="amazon_p_word_5">Entertaining</td>
					<td id="amazon_p_word_5_f">10</td>
					<td id="amazon_p_word_5_h">50</td>

					<td id="amazon_n_word_1">Bad</td>
					<td id="amazon_n_word_1_f">10</td>
					<td id="amazon_n_word_1_h">100</td>

					<td id="amazon_n_word_2">Bad</td>
					<td id="amazon_n_word_2_f">20</td>
					<td id="amazon_n_word_2_h">100</td>

					<td id="amazon_n_word_3">Bad</td>
					<td id="amazon_n_word_3_f">30</td>
					<td id="amazon_n_word_3_h">100</td>

					<td id="amazon_n_word_4">Bad</td>
					<td id="amazon_n_word_4_f">20</td>
					<td id="amazon_n_word_4_h">100</td>

					<td id="amazon_n_word_5">Bad</td>
					<td id="amazon_n_word_5_f">10</td>
					<td id="amazon_n_word_5_h">50</td>


				</tr>
			</table>
		</div>
	



	<div id="canvas2"></div>
	</div>
	<script src="js/protoclass.js"></script>
	<script src='js/box2d.js'></script>
	<script src='js/main.js'></script>
	<script type="text/javascript">
		function showBubble() {
			var divCanvas = document.getElementById('divCanvas');
			divCanvas.style.visibility = 'hidden';
			
			var aboutPage = document.getElementById('about_page');
			aboutPage.style.visibility = 'hidden';
			
			
			var canvasDiv = document.getElementById('canvasDiv');
			canvasDiv.style.visibility = 'visible';
			init();
			play();
		}
		function showCanvas() {
			var canvasDiv = document.getElementById('canvasDiv');
			canvasDiv.style.visibility = 'hidden';
			
			var aboutPage = document.getElementById('about_page');
			aboutPage.style.visibility = 'hidden';
						
			var divCanvas = document.getElementById('divCanvas');
			divCanvas.style.visibility = 'visible';
			draw_init_and_slide();
		}
		
		function showAboutPage() {
			var canvasDiv = document.getElementById('canvasDiv');
			canvasDiv.style.visibility = 'hidden';
			
			var aboutPage = document.getElementById('about_page');
			aboutPage.style.visibility = 'visible';
						
			var divCanvas = document.getElementById('divCanvas');
			divCanvas.style.visibility = 'hidden';
			
		}
	</script>
	<!-- 
    OPTIONAL: include this if you want history support
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    
    RECOMMENDED if your web app will not function without JavaScript enabled
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>

    <div id="movieList">
    	
    </div> -->

</body>
</html>
